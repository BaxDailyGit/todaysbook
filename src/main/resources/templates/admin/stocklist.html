<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/layout}">

<th:block layout:fragment="head">
    <title>재고 조회</title>
    <link th:href="@{/css/admin/common.css}" rel="stylesheet"/>
    <link th:href="@{/css/admin/stocklist.css}" rel="stylesheet"/>
</th:block>
<div th:replace="~{fragments/header.html}"></div>
<main th:fragment="content">
    <aside th:replace="~{fragments/sidebar-admin.html}"></aside>
    <div class="mypage-wrap">
        <p class="mypage-title">재고 조회</p>
        <form class="search-form" action="/admin/stocklist/search">
            <input class="search-input" th:placeholder="'검색할 도서를 입력해주세요. (저자, 책 제목)'"
                   th:name="keyword">
            <button class="search-button" th:text="'검색'"></button>
        </form>
        <section>
            <table class="book-list">
                <thead>
                <tr class="book-list-header">
                    <td class="book-name">상품명</td>
                    <td class="price">가격</td>
                    <td class="quantity">수량</td>
                    <td></td>
                    <td></td>
                </tr>
                </thead>
                <tbody>
                <tr class="book-list-body" th:each="book : ${books}">
                    <input type="hidden" th:value="${book.id}">
                    <td class="book-name" th:text="${book.title}"></td>
                    <td class="price" th:text="${book.price}+'원'" th:value="${book.price}"></td>
                    <td class="quantity" th:text="${book.stock}"></td>
                    <td class="button-section"><button class="edit-button">수정</button></td>
                    <td class="button-section"><button class="delete-button">삭제</button></td>
                </tr>
                </tbody>
                <div class="no-content" th:if="${books.isEmpty()}">
                    책이 없습니다.
                </div>
            </table>
            <ul class="page-button-group" th:unless="${books.isEmpty()}">
                <li th:if="${books.number>4}">
                    <button th:onclick="clickStockPrevPageButton([[${startPage}]], [[${keyword}]])">
                        &lt;
                    </button>
                </li>
                <li th:each="num : ${#numbers.sequence(startPage, endPage)}">
                    <button th:text="${num}" th:if="${books.number+1 eq num}"
                            th:class="select-button"></button>
                    <button th:text="${num}" th:unless="${books.number+1 eq num}"
                            th:onclick="clickStockPageButton(this,  [[${keyword}]])"></button>
                </li>
                <li th:if="${books.totalPages > 5 and endPage != books.totalPages}">
                    <button th:onclick="clickStockNextPageButton([[${endPage}]], [[${keyword}]])">
                        &gt;
                    </button>
                </li>
            </ul>
        </section>
    </div>
</main>
<div th:replace="~{fragments/footer.html}"></div>
<script th:src="@{/js/admin/page.js}"></script>
<script th:src="@{/js/admin/search.js}"></script>
</html>